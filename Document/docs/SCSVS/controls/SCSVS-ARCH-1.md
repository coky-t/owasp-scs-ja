---
search:
  exclude: true
---


# SCSVS-ARCH-1
## S1.1 セキュアデザインパターン (Secure Design Patterns)

### 管理目標
スマートコントラクトがモジュール性、アップグレード可能性、関心の分離を考慮して設計され、安全な運用、アップグレード、保守が可能であることを確認します。コントラクトは、複雑なアップグレード、権限移譲、依存関係の不適切な管理に関するセキュリティリスクを最小限に抑えるように設計されるべきです。

### S1.1.A モジュール性とアップグレード可能性 (Modularity and Upgradability)

| **SCSVS&nbsp;VR&nbsp;ID** | 要件                                                                 | L1 | L2 | L3 | SWE |
| ------------------------- | -------------------------------------------------------------------- | -- | -- | -- | --- |
| S1.1.A1      | コントラクトがモジュラーコンポーネントやコントラクトに分割されていることを検証します。 |    | ✓  | ✓  |     |
| S1.1.A2      | アップグレードメカニズムが安全で制御されたアップデートを可能にするように設計されていることを確認します。 |    | ✓  | ✓  |     |
| S1.1.A3      | モジュール境界が明確に定義され、依存関係が管理されていることをチェックします。 |    | ✓  | ✓  |     |
| S1.1.A4      | コントラクトバージョン間でのストレージ変数の順序やタイプの変更が管理され、ストレージの衝突やデータの破損を避けていることを確認します。 |    | ✓  | ✓  |     |
| S1.1.A5      | 重要な権限移譲が二段階のプロセスで実施され、安全で信頼性の高い権限変更を確保していることを検証します。 |    |    | ✓  |     |
| S1.1.A6      | 仮想関数の呼び出し時に無効なコードが生成されないように、内部関数とパブリック関数をオーバーライドする際に、パラメータやリターン変数のデータ位置が正しく処理されていることを検証します。 |    |    | ✓  |     |


### S1.1.B 関心の分離 (Separation of Concerns)

| **SCSVS&nbsp;VR&nbsp;ID** | 要件                                                                 | L1 | L2 | L3 | SWE |
| ------------------------- | -------------------------------------------------------------------- | -- | -- | -- | --- |
| S1.1.B1      | さまざまな機能が個別のコントラクトやモジュールに分離されていることを検証します。 |    | ✓  | ✓  |     |
| S1.1.B2      | 各モジュールが単一の責任を持ち、他のモジュールへの依存関係が最小限であることを確認します。 |    | ✓  | ✓  |     |
| S1.1.B3      | セキュリティリスクにつながる可能性のある、モジュール間の依存関係についてチェックします。 |    | ✓  | ✓  |     |
| S1.1.B4      | さまざまなエッジケースを考慮して、権限移譲時にプロトコルが一貫性と信頼性の高い動作を維持することを確認します。 |    |    | ✓  |     |
| S1.1.B5      | プロキシコンストラクトが `initializer` の代わりに `onlyInitializing` 修飾子を使用して、適切な初期化を確保していることを検証します。 |    |    | ✓  |     |
| S1.1.B6      | コントラクトバージョン間のストレージレイアウトが一貫しており、データの破損や予期しない動作を防いでいることを検証します。 |    |    | ✓  |     |
| S1.1.B7      | プロキシアップグレード時に実装間で不変変数が一貫していることを確認します。 |    |    | ✓  |     |
| S1.1.B8      | コントラクトのさまざまな部分にまたがる同じロジックの実装が一貫しており、エラーや脆弱性の発生を避けていることを検証します。 |    |    | ✓  |     |
| S1.1.B9      | 適切なチェックで ETH と WETH が個別に処理されており、排他性に関する正しくない想定によるエラーを避けていることを確認します。 |    |    | ✓  |     |
| S1.1.B10     | プロキシのセットアップでコンストラクタを有するコントラクトが使用されておらず、代わりに初期化ロジックが使用されていることを検証します。 |    |    | ✓  |     |
