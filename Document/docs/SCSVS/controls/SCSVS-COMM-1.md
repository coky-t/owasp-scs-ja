# SCSVS-COMM-1


## S5.1 コントラクトインタラクション (Contract Interactions)

### 管理目標
コントラクト間のすべてのインタラクションが安全であり、外部呼び出しに関連するリスクを最小限に抑え、信頼できる領域を最小限に維持し、エラーを適切に処理することを確認します。

### S5.1.A 安全なメッセージパッシング (Secure Message Passing)

| **SCSVS&nbsp;VR&nbsp;ID** | 要件                                                                 | L1 | L2 | L3 | SWE |
| ------------------------- | -------------------------------------------------------------------- | -- | -- | -- | --- |
| S5.1.A1      | LzApp から継承された関数への呼び出しが推奨されるアプローチ (_lzSend など) を使用し、lzEndpoint.send への直接呼び出しに関連する脆弱性を避けていることを確認します。 |    | ✓  | ✓  |     |
| S5.1.A2      | 外部コントラクトとやり取りする際、msg.sender が一貫性を維持し、送信者コンテキストの予期しない変更に関連するセキュリティ問題を避けていることを確認します。 |    | ✓  | ✓  |     |
| S5.1.A3      | 信頼できない外部コントラクト呼び出しを管理し、複数の引き出しや順序外のイベントなどの予期しない結果を防ぎます。 |    | ✓  | ✓  |     |
| S5.1.A4      | インタラクションするプールの検証がないと、リスクが生じる可能性があります。インタラクション前にすべてのプールが検証され、潜在的なセキュリティ問題を防いでいることを確認します。 |    | ✓  | ✓  |     |
| S5.1.A5      | 低レベルの .delegatecall() が適切に管理され、実行結果を提供せずに戻り値をブール値に変換することを認識していることを検証します。 |    | ✓  | ✓  |     |

### S5.1.B 最小限の信頼できる領域 (Minimal Trusted Surface)

| **SCSVS&nbsp;VR&nbsp;ID** | 要件                                                                 | L1 | L2 | L3 | SWE |
| ------------------------- | -------------------------------------------------------------------- | -- | -- | -- | --- |
| S5.1.B1      | スマートコントラクトが、明確に定義されて制限されたインタフェースを通じて他のコントラクトやシステムとやり取りすることのみにより、信頼できる領域を最小限に抑えていることを検証します。 |    | ✓  | ✓  |     |
| S5.1.B2      | スマートコントラクトには、機密性の高い操作を実行する前に、やり取りする当事者の信頼性と真正性を検証するチェックを含むことを確認します。 |    | ✓  | ✓  |     |
| S5.1.B3      | スマートコントラクトのインタラクションが、セキュリティを損なう可能性がある外部データやコントラクトへの依存を避けるように設計されていることをチェックします。 |    | ✓  | ✓  |     |
| S5.1.B4      | コントラクトが、外部とのインタラクションによる障害や予期しない動作を適切に処理して、障害が連鎖することを避けていることを検証します。 |    | ✓  | ✓  |     |
| S5.1.B5      | 他のコントラクトとのインタラクションが監視および監査され、異常なアクティビティや認可されていないアクティビティを検出して対処していることを確認します。 |    | ✓  | ✓  |     |
